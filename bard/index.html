<!DOCTYPE html>
<html>
<head>
  <title>My Website</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
</head>
<body>
  <h1>My Website</h1>
  <div id="times"></div>
  <script>
    $(function() {
      // Fetch the data from the API
      const url = 'https://northerly-robin-8705.dataplicity.io/mtws-iqaamah-times/all';
      $.get(url, function(data) {
        // Update the DOM with the data
        const times = document.getElementById('times');
        times.innerHTML = JSON.stringify(data, null, 2);
      });

      // Create a function to edit the times
      function editTimes() {
        // Get the current times
        const times = document.getElementById('times').textContent;

        // Create a new time picker
        const timePicker = new TimePicker();

        // Set the time picker's values
        timePicker.setValues(times);

        // Add an event listener to the time picker's change event
        timePicker.on('change', () => {
          // Get the new times
          const newTimes = timePicker.getValues();

          // Update the DOM with the new times
          document.getElementById('times').textContent = newTimes;

          // Post the new times back to the API
          const url = 'https://api.example.com/times';
          $.post(url, {
            times: newTimes
          }, function(data) {
            console.log('The times were successfully updated.');
          });
        });
      }

      // Add an event listener to the body's click event
      document.body.addEventListener('click', editTimes);
    });
  </script>
</body>
</html>

